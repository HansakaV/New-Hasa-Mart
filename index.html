<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HASA MART - POS System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="assets/styles/styles.css" rel="stylesheet">

</head>
<body>
<!--  Navbar -->
<nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <i class="fas fa-store me-2"></i>HASA MART
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
          <span id="dashboard-nav" class="nav-link">
            <i class="fas fa-chart-line"></i>Dashboard
          </span>
                </li>
                <li class="nav-item">
          <span id="customer-nav" class="nav-link">
            <i class="fas fa-users"></i>Customers
          </span>
                </li>
                <li class="nav-item">
          <span id="item-nav" class="nav-link">
            <i class="fas fa-box"></i>Items
          </span>
                </li>
                <li class="nav-item">
          <span id="order-nav" class="nav-link">
            <i class="fas fa-shopping-cart"></i>New Order
          </span>
                </li>
                <li class="nav-item">
          <span id="order-history-nav" class="nav-link">
            <i class="fas fa-history"></i>History
          </span>
                </li>
                <li class="nav-item">
          <span id="login-nav" class="nav-link">
            <i class="fa fa-sign-in"></i>Log Out
          </span>
                </li>

            </ul>
        </div>
    </div>
</nav>

<!-- Enhanced Dashboard -->
<div id="dashboard-section" class="container mt-4">
    <h2 class="text-center mb-4">
        <i class="fas fa-tachometer-alt me-2"></i>Dashboard Overview
    </h2>

    <!-- Main Stats Cards -->
    <div class="row">
        <div class="col-md-3">
            <div class="card dashboard-card text-white bg-primary mb-3">
                <div class="card-body text-center">
                    <i class="fas fa-users stats-icon"></i>
                    <h5 class="card-title">Total Customers</h5>
                    <p class="card-text fs-2" id="customerCount">100</p>
                    <small class="trend-indicator positive-trend">
                        <i class="fas fa-arrow-up"></i> 12% this month
                    </small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card dashboard-card text-white bg-success mb-3">
                <div class="card-body text-center">
                    <i class="fas fa-box-open stats-icon"></i>
                    <h5 class="card-title">Total Items</h5>
                    <p class="card-text fs-2" id="itemCount">50</p>
                    <small class="trend-indicator positive-trend">
                        <i class="fas fa-arrow-up"></i> 8% this month
                    </small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card dashboard-card text-white bg-warning mb-3">
                <div class="card-body text-center">
                    <i class="fas fa-shopping-bag stats-icon"></i>
                    <h5 class="card-title">Total Orders</h5>
                    <p class="card-text fs-2" id="orderCount">150</p>
                    <small class="trend-indicator positive-trend">
                        <i class="fas fa-arrow-up"></i> 15% this month
                    </small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card dashboard-card text-white bg-danger mb-3">
                <div class="card-body text-center">
                    <i class="fas fa-dollar-sign stats-icon"></i>
                    <h5 class="card-title">Total Revenue</h5>
                    <p class="card-text fs-2" id="totalRevenue">$5000</p>
                    <small class="trend-indicator positive-trend">
                        <i class="fas fa-arrow-up"></i> 20% this month
                    </small>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Stats Section -->
    <div class="row quick-stats">
        <div class="col-md-6">
            <div class="card dashboard-card">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-chart-pie me-2"></i>Top Selling Items
                    </h5>
                    <div class="mt-3">
                        <div class="d-flex justify-content-between mb-2">
                            <span>Sugar</span>
                            <span class="badge bg-success">550 kg sold</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Rice</span>
                            <span class="badge bg-success">420 Kg sold</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Soap </span>
                            <span class="badge bg-success">90 sold</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card dashboard-card">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-user-clock me-2"></i>Recent Customers
                    </h5>
                    <div class="mt-3">
                        <div class="d-flex justify-content-between mb-2">
                            <span>Mahesh</span>
                            <span class="text-muted">5 mins ago</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Minindu</span>
                            <span class="text-muted">15 mins ago</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Chathunka</span>
                            <span class="text-muted">1 hour ago</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Customer -->
<div id="customer-section" class="container mt-5">

    <!-- Customer Form -->
    <div class="card my-4">
        <div class="card-header">Enter Customer Details</div>
        <div class="card-body">
            <form id="customerForm">
                <div class="row mb-3">
                    <div class="col">
                        <label for="firstName" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="firstName" placeholder="First Name" required>
                    </div>
                    <div class="col">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="lastName" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col">
                        <label for="mobile" class="form-label">Mobile Number</label>
                        <input type="text" class="form-control" id="mobile" placeholder="Mobile Number" required>
                    </div>
                    <div class="col">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Email" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="address" class="form-label">Address</label>
                    <textarea class="form-control" id="address" rows="3" placeholder="Enter Address" required></textarea>
                </div>
                <div style="display: flex ; column-gap: 10px">
                    <button id="add-customer" type="button" class="btn btn-primary w-100">Add Customer</button>
                    <button id="update-customer" type="button" class="btn btn-info w-100">Update Customer</button>
                    <button id="delete-customer" type="button" class="btn btn-danger w-100">Delete Customer</button>
                </div>


            </form>
        </div>
    </div>

    <!-- Customer Table -->
    <h3 class="mt-5">Customer List</h3>
    <table class="table table-bordered table-striped mt-3">
        <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Mobile Number</th>
            <th>Email</th>
            <th>Address</th>
        </tr>
        </thead>
        <tbody id="customerTableBody">
        <!-- Customer rows will be added here -->
        </tbody>
    </table>
</div>

<!-- Item -->
<div id="item-section" class="container mt-5">

    <!-- Item Form -->
    <div class="card my-4">
        <div class="card-header">Enter Item Details</div>
        <div class="card-body">
            <form id="itemForm">
                <div class="row mb-3">
                    <div class="col">
                        <label for="itemCode" class="form-label">Item Code</label>
                        <input type="text" class="form-control" id="itemCode" placeholder="Item Code" required>
                    </div>
                    <div class="col">
                        <label for="description" class="form-label">Description</label>
                        <input type="text" class="form-control" id="description" placeholder="Description" required>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col">
                        <label for="quantity" class="form-label">Quantity</label>
                        <input type="number" class="form-control" id="quantity" placeholder="Quantity" required>
                    </div>
                    <div class="col">
                        <label for="unitPrice" class="form-label">Unit Price</label>
                        <input type="number" class="form-control" id="unitPrice" placeholder="Unit Price" required>
                    </div>
                </div>

                <div style="display: flex ; column-gap: 10px">
                    <button id="add-item" type="button" class="btn btn-primary w-100">Add Item</button>
                    <button id="update-item" type="button" class="btn btn-info w-100">Update Item</button>
                    <button id="delete-item" type="button" class="btn btn-danger w-100">Delete Item</button>
                </div>


            </form>
        </div>
    </div>

    <!-- Item Table -->
    <h3 class="mt-5">Item List</h3>
    <table class="table table-bordered table-striped mt-3">
        <thead>
        <tr>
            <th>Item Id</th>
            <th>Description</th>
            <th>Quantity</th>
            <th>Unit Price</th>
        </tr>
        </thead>
        <tbody id="itemTableBody">
        <!-- item rows will be added here -->
        </tbody>
    </table>
</div>

<!-- Order Form Section -->
<div id="order-section" class="container mt-4">
    <h2 class="mb-4">
        <i class="fas fa-shopping-cart me-2"></i>Place New Order
    </h2>

    <div class="row">
        <!-- Left Side - Order Form -->
        <div class="col-md-8">
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">Order Details</h5>
                </div>
                <div class="card-body">
                    <!-- Customer Selection -->
                    <div class="mb-3">
                        <label for="customerSelect" class="form-label">Select Customer</label>
                        <select class="form-select" id="customerSelect" required>
                            <option value="">Select customer...</option>
                        </select>
                    </div>

                    <!-- Item Selection -->
                    <div class="card mb-3">
                        <div class="card-header">
                            Add Items
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-5">
                                    <label for="itemSelect" class="form-label">Item</label>
                                    <select class="form-select" id="itemSelect">
                                        <option value="">Select item...</option>

                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label for="quantity" class="form-label">Quantity</label>
                                    <input type="number" class="form-control" id="quantitySelect" >
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">&nbsp;</label>
                                    <button class="btn btn-primary w-100" id="addItemBtn">
                                        <i class="fas fa-plus me-2"></i>Add Item
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Items Table -->
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover" id="orderItemsTable">
                            <thead class="table-light">
                            <tr>
                                <th>Item</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Total</th>
                            </tr>
                            </thead>
                            <tbody id="orderItemsList">
                            <!-- Items will be added here dynamically -->
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
        </div>

        <!-- Right Side - Order Summary -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Order Summary</h5>
                </div>
                <div class="card-body">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Subtotal:</span>
                        <span id="subtotal"></span>
                    </div>

                    <div class="d-flex justify-content-between mb-2">
                        <span>Discount:</span>
                        <div class="input-group input-group-sm w-50">
                            <input type="number" class="form-control" id="discountInput" min="0" value="0">
                            <span class="input-group-text">%</span>
                        </div>

                    </div>
                    <button class="btn btn-success w-100" id="confirm-discount">
                        <i class="fas fa-check-circle me-2"></i>Confirm
                    </button>
                    <hr>
                    <div class="d-flex justify-content-between mb-3">
                        <strong>Total:</strong>
                        <strong id="totalAmount"></strong>
                    </div>

                    <!-- Payment Method -->
                    <div class="mb-3">
                        <label class="form-label">Payment Method</label>
                        <div class="d-flex gap-2">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="cashPayment" checked>
                                <label class="form-check-label" for="cashPayment">
                                    Cash
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="cardPayment">
                                <label class="form-check-label" for="cardPayment">
                                    Card
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Place Order Button -->
                    <button class="btn btn-success w-100" id="placeOrderBtn">
                        <i class="fas fa-check-circle me-2"></i>Place Order
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Order History Section -->
<div id="order-history-section" class="container mt-4">
    <h2 class="mb-4">
        <i class="fas fa-history me-2"></i>Order History
    </h2>

    <!--&lt;!&ndash; Filters Card &ndash;&gt;
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">
                <i class="fas fa-filter me-2"></i>Filters
            </h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label class="form-label">Date Range</label>
                    <select class="form-select" id="dateRange">
                        <option value="today">Today</option>
                        <option value="yesterday">Yesterday</option>
                        <option value="last7">Last 7 Days</option>
                        <option value="last30">Last 30 Days</option>
                        <option value="custom">Custom Range</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label">Customer</label>
                    <select class="form-select" id="customerFilter">
                        <option value="">All Customers</option>
                        <option value="1">John Doe</option>
                        <option value="2">Jane Smith</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label">Payment Method</label>
                    <select class="form-select" id="paymentFilter">
                        <option value="">All Methods</option>
                        <option value="cash">Cash</option>
                        <option value="card">Card</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label">Status</label>
                    <select class="form-select" id="statusFilter">
                        <option value="">All Status</option>
                        <option value="completed">Completed</option>
                        <option value="pending">Pending</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col-12">
                    <button class="btn btn-primary me-2">
                        <i class="fas fa-search me-2"></i>Apply Filters
                    </button>
                    <button class="btn btn-secondary">
                        <i class="fas fa-redo me-2"></i>Reset
                    </button>
                </div>
            </div>
        </div>
    </div>
-->
    <!-- Orders Table -->
    <div class="card">
        <div class="card-header bg-white">
            <div class="d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Orders List</h5>
                <div>
                    <button class="btn btn-outline-primary me-2">
                        <i class="fas fa-file-excel me-2"></i>Export Excel
                    </button>
                    <button class="btn btn-outline-secondary">
                        <i class="fas fa-print me-2"></i>Print
                    </button>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover" id="ordersTable">
                    <thead class="table-light">
                    <tr>
                        <th>Order ID</th>
                        <th>Date</th>
                        <th>Customer</th>
                        <th>Items</th>
                        <th>Total</th>
                        <th>Payment</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- Sample Order Rows -->
                    <tr>
                        <td>#ORD001</td>
                        <td>2024-10-30 14:30</td>
                        <td>John Doe</td>
                        <td>3 items</td>
                        <td>$150.00</td>
                        <td><span class="badge bg-success">Cash</span></td>
                        <td><span class="badge bg-primary">Completed</span></td>
                        <td>
                            <button class="btn btn-sm btn-info me-1" data-bs-toggle="modal" data-bs-target="#orderDetailModal">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="printOrder('ORD001')">
                                <i class="fas fa-print"></i>
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>#ORD002</td>
                        <td>2024-10-30 15:45</td>
                        <td>Jane Smith</td>
                        <td>2 items</td>
                        <td>$85.00</td>
                        <td><span class="badge bg-info">Card</span></td>
                        <td><span class="badge bg-warning">Pending</span></td>
                        <td>
                            <button class="btn btn-sm btn-info me-1" data-bs-toggle="modal" data-bs-target="#orderDetailModal">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="printOrder('ORD002')">
                                <i class="fas fa-print"></i>
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <nav aria-label="Orders pagination" class="mt-4">
                <ul class="pagination justify-content-center">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>

<!-- Order Detail Modal -->
<div class="modal fade" id="orderDetailModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Order Details - #ORD001</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <!-- Customer Info -->
                <div class="card mb-3">
                    <div class="card-body">
                        <h6 class="card-title">Customer Information</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <p class="mb-1"><strong>Name:</strong> John Doe</p>
                                <p class="mb-1"><strong>Email:</strong> john@example.com</p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-1"><strong>Phone:</strong> +1234567890</p>
                                <p class="mb-1"><strong>Address:</strong> 123 Street, City</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Items -->
                <div class="card mb-3">
                    <div class="card-body">
                        <h6 class="card-title">Order Items</h6>
                        <div class="table-responsive">
                            <table class="table table-sm">
                                <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>Price</th>
                                    <th>Quantity</th>
                                    <th>Total</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>Item 1</td>
                                    <td>$50.00</td>
                                    <td>2</td>
                                    <td>$100.00</td>
                                </tr>
                                <tr>
                                    <td>Item 2</td>
                                    <td>$25.00</td>
                                    <td>2</td>
                                    <td>$50.00</td>
                                </tr>
                                </tbody>
                                <tfoot>
                                <tr>
                                    <td colspan="3" class="text-end"><strong>Subtotal:</strong></td>
                                    <td>$150.00</td>
                                </tr>
                                <tr>
                                    <td colspan="3" class="text-end"><strong>Tax (10%):</strong></td>
                                    <td>$15.00</td>
                                </tr>
                                <tr>
                                    <td colspan="3" class="text-end"><strong>Total:</strong></td>
                                    <td><strong>$165.00</strong></td>
                                </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="printOrder('ORD001')">
                    <i class="fas fa-print me-2"></i>Print Order
                </button>
            </div>
        </div>
    </div>
</div>



<script src="./assets/lib/jquery-3.7.1.min.js"></script>
<script type="module" src="controller/customerController.js"></script>
<script type="module" src="controller/itemController.js"></script>
<script type="module" src="controller/orderController.js"></script>

<script>
    let dashboard_nav = document.getElementById("dashboard-nav");
    let customer_nav = document.getElementById("customer-nav");
    let item_nav = document.getElementById("item-nav");
    let order_nav = document.getElementById("order-nav");
    let order_history_nav = document.getElementById("order-history-nav");

    let dashboard_section = document.getElementById("dashboard-section");
    let customer_section = document.getElementById("customer-section");
    let item_section = document.getElementById("item-section");
    let order_section = document.getElementById("order-section");
    let order_history_section = document.getElementById("order-history-section");

    customer_section.style.display = 'none';
    item_section.style.display = 'none';
    order_section.style.display = 'none';
    order_history_section.style.display = 'none';

    function hideAllSections() {
        dashboard_section.style.display = 'none';
        customer_section.style.display = 'none';
        item_section.style.display = 'none';
        order_section.style.display = 'none';
        order_history_section.style.display = 'none';


    }


    // Dashboard navigation
    dashboard_nav.addEventListener('click', function () {
        hideAllSections()
        dashboard_section.style.display = "block";
    });

    // Customer navigation
    customer_nav.addEventListener('click', function () {
        hideAllSections()
        customer_section.style.display = "block";
    });

    // Item navigation
    item_nav.addEventListener('click', function () {
        hideAllSections()
        item_section.style.display = "block";
    });

    // Order navigation
    order_nav.addEventListener('click', function () {
        hideAllSections()
        order_section.style.display = "block";
        // Add order section display logic when you create the section
    });

    // Order history navigation
    order_history_nav.addEventListener('click', function () {
        hideAllSections()
        order_history_section.style.display = "block";

    });
</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>